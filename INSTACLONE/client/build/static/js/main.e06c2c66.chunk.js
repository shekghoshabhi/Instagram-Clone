(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,c){},37:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c.n(s),i=c(30),l=c.n(i),r=(c(37),c(4)),o=(c(19),c(3)),j=c(6);var d=function(){var e=Object(s.useContext)(w),t=e.state,c=e.dispatch,a=Object(s.useState)(""),i=Object(r.a)(a,2);return i[0],i[1],Object(n.jsx)("nav",{children:Object(n.jsxs)("div",{className:"nav-wrapper white",children:[Object(n.jsx)(j.b,{to:t?"/":"signin",className:"brand-logo",children:"Logo"}),Object(n.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:t?[Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/myposts",children:"Profile"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/createpost",children:"Create Post"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/signin",onClick:function(){localStorage.clear(),c({type:"LOGOUT"})},children:" Log out "})})]:[Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/signin",children:"Sign In"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/signup",children:"Sign Up"})})]})]})})},h=(c(42),c(11)),p=c.n(h);var b=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){fetch("/allposts",{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e.posts),a(e.posts)}))}),[]),Object(n.jsx)("div",{style:{width:"60%"},children:c.map((function(e){return Object(n.jsx)("div",{className:"row",style:{marginLeft:"20%",marginTop:"4%",height:"90%"},children:Object(n.jsx)("div",{className:"col s8 m6",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("span",{className:"card-title",style:{margin:"40px",marginTop:"50px"},children:Object(n.jsx)(j.b,{to:"/profile/"+e.postedBy._id,children:e.postedBy.name})}),Object(n.jsx)("div",{className:"card-image",children:Object(n.jsx)("img",{src:e.picture,style:{height:"40%"}})}),Object(n.jsxs)("span",{className:"card-title",children:[e.title," "]}),Object(n.jsx)("div",{className:"card-content",children:Object(n.jsxs)("p",{children:[e.body," "]})}),Object(n.jsx)("div",{className:"card-action",children:Object(n.jsx)("input",{type:"text",placeholder:" Add Comments"})})]})})},e._id)}))})},u=c(12),x=c.n(u);var O=function(){var e=Object(s.useContext)(w),t=(e.state,e.dispatch),c=Object(o.f)(),a=Object(s.useState)(""),i=Object(r.a)(a,2),l=i[0],d=i[1],h=Object(s.useState)(""),b=Object(r.a)(h,2),u=b[0],O=b[1];return Object(n.jsx)("div",{className:"mycard",children:Object(n.jsxs)("div",{className:"card auth-card input-field",children:[Object(n.jsx)("h2",{children:"Instagram"}),Object(n.jsx)("input",{type:"text",placeholder:"email",value:l,onChange:function(e){return d(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"password",value:u,onChange:function(e){return O(e.target.value)}}),Object(n.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){""!==l&&""!==u||x.a.toast({html:"Please Fill All the Fields"});var e=JSON.stringify({email:l,password:u});p.a.post("/signin",e,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("jwt_token",e.data.jwt_token),localStorage.setItem("user",JSON.stringify(e.data.user)),t({type:"USER",payload:e.data.user}),x.a.toast({html:"user sign Up Successfully"}),c.push("/")})).catch((function(e){console.log(e)}))},children:"Login"}),Object(n.jsx)("h5",{children:Object(n.jsx)(j.b,{to:"/signup",children:"Dont have an account ?"})}),Object(n.jsx)("h6",{children:Object(n.jsx)(j.b,{to:"/reset",children:"Forgot password ?"})})]})})},g=function(){var e=Object(o.f)(),t=Object(s.useState)(""),c=Object(r.a)(t,2),a=c[0],i=c[1],l=Object(s.useState)(""),d=Object(r.a)(l,2),h=d[0],b=d[1],u=Object(s.useState)(""),O=Object(r.a)(u,2),g=O[0],f=O[1];return Object(n.jsx)("div",{className:"mycard",children:Object(n.jsxs)("div",{className:"card auth-card input-field",children:[Object(n.jsx)("h2",{children:"Instagram"}),Object(n.jsx)("input",{type:"text",placeholder:"name",value:a,onChange:function(e){i(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"email",value:h,onChange:function(e){b(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"password",value:g,onChange:function(e){f(e.target.value)}}),Object(n.jsxs)("div",{className:"file-field input-field",children:[Object(n.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(n.jsx)("span",{children:"Upload pic"}),Object(n.jsx)("input",{type:"file"})]}),Object(n.jsx)("div",{className:"file-path-wrapper",children:Object(n.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(n.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){""!==a&&""!==h&&""!==g||x.a.toast({html:"Please Fill All the Fields"});var t=JSON.stringify({name:a,email:h,password:g});p.a.post("/signup",t,{headers:{"Content-Type":"application/json"}}).then((function(t){x.a.toast({html:"user sign in Successfully"}),e.push("/signin")})).catch((function(e){console.log(e)}))},children:"SignUP"}),Object(n.jsx)("h5",{children:Object(n.jsx)(j.b,{to:"/signin",children:"Already have an account ?"})})]})})};function f(){var e=Object(s.useContext)(w),t=e.state,c=(e.dispatch,Object(s.useState)([])),a=Object(r.a)(c,2),i=a[0];a[1];return Object(s.useEffect)((function(){p.a.get("https://webstagram.org/api?api_key=0&username=thenehanirwal&source=instagram",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",margin:"0px 150px 0px 150px",borderBottom:"solid grey 1px"},children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{style:{borderRadius:"100px",height:"200px",width:"200px",margin:"100px"},src:"https://images.unsplash.com/photo-1474176857210-7287d38d27c6?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8&auto=format&fit=crop&w=600&q=60"})}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"60px"},children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h4",{style:{marginLeft:"230px"},children:[t.name," "]})}),Object(n.jsxs)("div",{style:{display:"flex",margin:"30px"},children:[Object(n.jsx)("h5",{style:{margin:"30px"},children:"10 posts"}),Object(n.jsx)("h5",{style:{margin:"30px"},children:"100 followers"}),Object(n.jsx)("h5",{style:{margin:"30px"},children:"200 following"})]})]}),Object(n.jsx)("div",{style:{height:"5px",background:"black"}})]}),Object(n.jsx)("div",{style:{width:"68%",marginLeft:"auto",marginRight:"auto"},children:i.map((function(e){return Object(n.jsx)("div",{className:"gallery",children:Object(n.jsx)("img",{src:e.picture,alt:"Mountains",width:"600",height:"400"})})}))})]})}var m=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)(""),l=Object(r.a)(i,2),j=l[0],d=l[1],h=Object(s.useState)(""),b=Object(r.a)(h,2),u=b[0],O=b[1],g=Object(o.f)();return Object(s.useEffect)((function(){if(c){var e={title:j,body:u,picture:c},t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt_token")};p.a.post("/createpost",e,{headers:t}).then((function(e){x.a.toast({html:"New Post Created Successfully"}),g.push("/")})).catch((function(e){console.log(e)}))}}),[c]),Object(n.jsxs)("div",{className:"card input-filed",style:{margin:"30px auto",maxWidth:"500px",padding:"20px",textAlign:"center"},children:[Object(n.jsx)("input",{type:"text",placeholder:"title",value:j,onChange:function(e){return d(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"body",value:u,onChange:function(e){return O(e.target.value)}}),Object(n.jsxs)("div",{className:"file-field input-field",children:[Object(n.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(n.jsx)("span",{children:"Uplaod Image"}),Object(n.jsx)("input",{type:"file",onChange:function(e){return a(e.target.files[0])}})]}),Object(n.jsx)("div",{className:"file-path-wrapper",children:Object(n.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(n.jsx)("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){var e=new FormData;e.append("file",c),e.append("upload_preset","insta-clone"),e.append("cloud_name","cnq"),fetch("https://api.cloudinary.com/v1_1/dwoj3miu6/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){a(e.url)})).catch((function(e){console.log(e)}))},children:"Submit post"})]})},v=function(e,t){switch(t.type){case"USER":return t.payload;case"LOGOUT":return null;default:return e}};function y(){var e=Object(s.useContext)(w),t=(e.state,e.dispatch,Object(s.useState)(null)),c=Object(r.a)(t,2),a=c[0],i=c[1],l=Object(o.g)().id;return Object(s.useEffect)((function(){console.log(l),p.a.get("/profile/"+l,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt_token"),"Content-Type":"application/json"}}).then((function(e){console.log(e),i(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.jsx)(n.Fragment,{children:a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",margin:"0px 150px 0px 150px",borderBottom:"solid grey 1px"},children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{style:{borderRadius:"100px",height:"200px",width:"200px",margin:"100px"},src:"https://images.unsplash.com/photo-1474176857210-7287d38d27c6?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8&auto=format&fit=crop&w=600&q=60"})}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"60px"},children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h4",{style:{marginLeft:"230px"},children:[a.user.name," "]})}),Object(n.jsxs)("div",{style:{display:"flex",margin:"30px"},children:[Object(n.jsx)("h5",{style:{margin:"30px"},children:"10 posts"}),Object(n.jsx)("h5",{style:{margin:"30px"},children:"100 followers"}),Object(n.jsx)("h5",{style:{margin:"30px"},children:"200 following"})]})]}),Object(n.jsx)("div",{style:{height:"5px",background:"black"}})]}),Object(n.jsx)("div",{style:{width:"68%",marginLeft:"auto",marginRight:"auto"},children:a.posts.map((function(e){return Object(n.jsx)("div",{className:"gallery",children:Object(n.jsx)("img",{src:e.picture,alt:"Mountains",width:"600",height:"400"})},e._id)}))})]}):Object(n.jsx)("h2",{children:"LOADING..."})})}var w=Object(s.createContext)();function N(){var e=Object(o.f)(),t=Object(s.useContext)(w),c=(t.state,t.dispatch);return Object(s.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t?(c({type:"USER",payload:t}),e.push("/")):e.push("/signin")}),[]),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",children:Object(n.jsx)(b,{})}),Object(n.jsx)(o.a,{path:"/signin",children:Object(n.jsx)(O,{style:{padding:"100px"}})}),Object(n.jsx)(o.a,{path:"/signup",children:Object(n.jsx)(g,{})}),Object(n.jsx)(o.a,{path:"/myposts",children:Object(n.jsx)(f,{})}),Object(n.jsx)(o.a,{path:"/createpost",children:Object(n.jsx)(m,{})}),Object(n.jsx)(o.a,{exact:!0,path:"/profile/:id",children:Object(n.jsx)(y,{})})]})}var S=function(){var e=Object(s.useReducer)(v,null),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)(w.Provider,{value:{state:c,dispatch:a},children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(d,{}),Object(n.jsx)(N,{})]})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,81)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};l.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),C()}},[[79,1,2]]]);
//# sourceMappingURL=main.e06c2c66.chunk.js.map